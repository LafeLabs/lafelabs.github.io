<!DOCTYPE HTML>
<html>
<head>
<title>Math Formats QGT</title>
</head>
<body>
<center id = "main">
<h1>Math Format Functions</h1>

<div class = "mathAtom">
Input:<input id = "ukNavy" onchange = "update()" value = "1.6e-19"></input>Formatted Number:<span id = "pirateBoat" style = "border:solid;padding:5px 5px 5px 5px;"></span>
<script>

update();
function update(){
	foo = document.getElementById("ukNavy").value;
	var bar = new gNumber(foo);
	document.getElementById("pirateBoat").innerHTML = sci1(bar);		
}


function sci1(gnumin){ //simplest scientific notation, to 1%
	if(gnumin.digitArray[2] > 5){//round here using next decimal place
		gnumin.digitArray[1]++;
		gnumin.digitArray[1] = gnumin.digitArray[1]%10;
	}
	return gnumin.baseSign + (gnumin.digitArray[0]).toString() + "." + (gnumin.digitArray[1]).toString() + " &#x2715 10<sup>" + gnumin.expSign + (gnumin.expMag).toString() + "</sup>";
}

function units1(gnumin){ //add units for some unit scales 1%
	if(gnumin.digitArray[2] > 5){//round here using next decimal place
			gnumin.digitArray[1]++;
			gnumin.digitArray[1] = gnumin.digitArray[1]%10;
		}
	if(gnumin.expMag > 15){
		return gnumin.baseSign + (gnumin.digitArray[0]).toString() + "." + (gnumin.digitArray[1]).toString() + " &#x2715 10<sup>" + gnumin.expSign + (gnumin.expMag).toString() + "</sup>";
	}else{
		if(gnumin.expMag == 2 && gnumin.expSign == ""){
		
		}
	
	
	
		return "derp";
	}
}




function gNumber(xin) {//constructor for non-awful number format
	var xinExpAbs = (Math.abs(xin)).toExponential();
	var xinExpArray = xinExpAbs.split("e");
	var baseSignString = "";	
	if(Math.sign(xin) == -1){
		baseSignString = "-";
	}
	var expSignString = "";
	if(Math.abs(xin) < 1){
		expSignString = "-";
	}
	var expMag = Math.abs(parseInt(xinExpArray[1]));
		
	var digitArray = [];
	for(var index = 0;index < xinExpArray[0].length;index++){
		if((xinExpArray[0].charCodeAt(index) >= 060)&&(xinExpArray[0].charCodeAt(index) < 072)){
			digitArray.push(parseInt(xinExpArray[0].charAt(index)));
		} 
	
	}
	digitArray.push(0);//throw some zeros on the stack to avoid errors
	digitArray.push(0);
	digitArray.push(0);
	
    this.baseSign = baseSignString; //string
    this.expSign = expSignString; //string
    this.digitArray = digitArray; //int array
	this.expMag = expMag; //int
}

</script>
</div>
</center>

<style>

#main{
	width:760px;
	height:auto;
    border-style: solid;
    border-width: 10px;
    border-color: orange;
    border-radius: 10px;
    margin: 10px 10px 10px 10px;
    padding: 10px 10px 10px 10px;
	background: none;		
	overflow:scroll;	
}

.mathAtom{
	width: auto;
	height: auto;
	border-style: solid;
	border-width: 3px;
	border-color: black;
	border-radius: 5px;
	padding: 10px 10px 10px 10px;
	margin: 10px 10px 10px 10px;
	background: none;	
	font-size: 16px;
	font-family: "Century Schoolbook";
	text-align: center;
}


</style>
</center>
</body>
</html>