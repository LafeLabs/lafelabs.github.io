<!DOCTYPE HTML>
<html>
<head>
<title>DC Metro Meta Map</title>
<script id = "stationLatlons">
/*Metro Center:38.898303,-77.028099
Farragut North:38.903192,-77.039766
Dupont Circle:38.909499,-77.04362
Woodley Park-Zoo/Adams Morgan:38.924999,-77.052648
Cleveland Park:38.934703,-77.058226
Van Ness-UDC:38.94362,-77.063511
Tenleytown-AU:38.947808,-77.079615
Friendship Heights:38.960744,-77.085969
Bethesda:38.984282,-77.094431
Medical Center:38.999947,-77.097253
Grosvenor-Strathmore:39.029158,-77.10415
White Flint:39.048043,-77.113131
Twinbrook:39.062359,-77.121113
Rockville:39.084215,-77.146424
Shady Grove:39.119819,-77.164921
Gallery Pl-Chinatown:38.89834,-77.021851
Judiciary Square:38.896084,-77.016643
Union Station:38.897723,-77.006745
Rhode Island Ave-Brentwood:38.920741,-76.995984
Brookland-CUA:38.933234,-76.994544
Fort Totten:38.951777,-77.002174
Takoma:38.975532,-77.017834
Silver Spring:38.993841,-77.031321
Forest Glen:39.015413,-77.042953
Wheaton:39.038558,-77.051098
Glenmont:39.061713,-77.05341
NoMa-Gallaudet U:38.907407,-77.002961
Metro Center:38.898303,-77.028099
McPherson Square:38.901316,-77.033652
Farragut West:38.901311,-77.03981
Foggy Bottom-GWU:38.900599,-77.050273
Rosslyn:38.896595,-77.07146
Arlington Cemetery:38.884574,-77.063108
Pentagon:38.869349,-77.054013
Pentagon City:38.863045,-77.059507
Crystal City:38.85779,-77.050589
Ronald Reagan Washington National Airport:38.852985,-77.043805
Braddock Road:38.814009,-77.053763
King St-Old Town:38.806474,-77.061115
Eisenhower Avenue:38.800313,-77.071173
Huntington:38.793841,-77.075301
Federal Triangle:38.893757,-77.028218
Smithsonian:38.888022,-77.028232
L'Enfant Plaza:38.884775,-77.021964
Federal Center SW:38.884958,-77.01586
Capitol South:38.884968,-77.005137
Eastern Market:38.884124,-76.995334
Potomac Ave:38.880841,-76.985721
Stadium-Armory:38.88594,-76.977485
Minnesota Ave:38.898284,-76.948042
Deanwood:38.907734,-76.936177
Cheverly:38.91652,-76.915427
Landover:38.934411,-76.890988
New Carrollton:38.947674,-76.872144
Mt Vernon Sq 7th St-Convention Center:38.905604,-77.022256
Shaw-Howard U:38.912919,-77.022194
U Street/African-Amer Civil War Memorial/Cardozo:38.916489,-77.028938
Columbia Heights:38.928672,-77.032775
Georgia Ave-Petworth:38.936077,-77.024728
Fort Totten:38.951777,-77.002174
West Hyattsville:38.954931,-76.969881
Prince George's Plaza:38.965276,-76.956182
College Park-U of Md:38.978523,-76.928432
Greenbelt:39.011036,-76.911362
Gallery Pl-Chinatown:38.89834,-77.021851
Archives-Navy Memorial-Penn Quarter:38.893893,-77.021902
L'Enfant Plaza:38.884775,-77.021964
Waterfront:38.876221,-77.017491
Navy Yard-Ballpark:38.876588,-77.005086
Anacostia:38.862072,-76.995648
Congress Heights:38.845334,-76.98817
Southern Avenue:38.840974,-76.97536
Naylor Road:38.851187,-76.956565
Suitland:38.843891,-76.932022
Branch Ave:38.826995,-76.912134
Benning Road:38.890488,-76.938291
Capitol Heights:38.889757,-76.913382
Addison Road-Seat Pleasant:38.886713,-76.893592
Morgan Boulevard:38.8913,-76.8682
Largo Town Center:38.9008,-76.8449
Van Dorn Street:38.799193,-77.129407
Franconia-Springfield:38.766129,-77.168797
Court House:38.891499,-77.08391
Clarendon:38.886373,-77.096963
Virginia Square-GMU:38.88331,-77.104267
Ballston-MU:38.882071,-77.111845
East Falls Church:38.885841,-77.157177
West Falls Church-VT/UVA:38.90067,-77.189394
Dunn Loring-Merrifield:38.883015,-77.228939
Vienna/Fairfax-GMU:38.877693,-77.271562
McLean:38.924478,-77.210167
Tysons Corner:38.920056,-77.223314
Greensboro:38.919749,-77.235192
Spring Hill:38.92902,-77.24178
Wiehle-Reston East:38.947753,-77.340179*/
</script>
<script id = "bytecodeScript">
/*
01300:0333,0200,0336,0330,0332,0340,0350,0335,0336,0330,0342,0331,0331,0331,0342,0330,0330,0335,0335,0331,0331,0342,0330,0330,0330,0342,0331,0334,0334,0334,0351,0331,0331,0333,0333,0337,0337
01304:0333,0200,0336,0330,0332,0341,0342,0335,0342,0335,0342,0335,0342,0350,0335,0351,0336,0336,0330,0330,0341,0331,0331,0335,0330,0330,0341,0331,0331,0335,0330,0330,0341,0331,0331,0335,0330,0330,0341,0331,0331,0350,0334,0351,0337,0337,0330,0335,0335,0333,0337
01305:0333,0200,0336,0330,0332,0305,0342,0335,0342,0335,0342,0335,0342,0335,0342,0335,0341,0350,0335,0351,0336,0330,0336,0336,0341,0337,0337,0331,0335,0330,0336,0336,0341,0337,0337,0331,0335,0330,0336,0336,0341,0337,0337,0331,0335,0330,0336,0336,0341,0337,0337,0331,0335,0330,0336,0336,0341,0337,0337,0331,0350,0335,0304,0337,0331,0333,0337
01306:0333,0200,0336,0330,0332,0306,0342,0335,0342,0335,0342,0335,0342,0335,0342,0335,0341,0350,0335,0351,0336,0330,0336,0336,0341,0337,0337,0331,0335,0330,0336,0336,0341,0337,0337,0331,0335,0330,0336,0336,0341,0337,0337,0331,0335,0330,0336,0336,0341,0337,0337,0331,0335,0330,0336,0336,0341,0337,0337,0331,0350,0335,0335,0335,0337,0342,0334,0336,0330,0336,0336,0341,0337,0337,0331,0304,0335,0337,0331,0333,0337
01310:0333,0200,0336,0332,0350,0335,0310,0337,0342,0330,0334,0334,0342,0330,0334,0334,0342,0330,0334,0334,0342,0330,0334,0334,0334,0351,0336,0313,0333,0337
01311:0335,0305,0342,0334,0311,0337,0342,0336,0335,0330,0334,0350,0334,0337,0342,0334,0334,0304,0336,0313,0335,0200,0334,0305,0350,0335,0342,0330,0335,0335,0335,0311,0336,0342,0330,0334,0334,0334,0336,0342,0335,0335,0335,0337,0331,0334,0334,0334,0337,0331,0334,0313,0304,0335
01312:0333,0200,0352,0334,0342,0330,0334,0334,0334,0334,0342,0334,0312,0337,0313,0336,0342,0330,0334,0334,0334,0334,0336,0342,0334,0334,0304,0312,0336,0313,0337,0333,0337
01313:0333,0200,0336,0336,0332,0332,0330,0342,0334,0342,0330,0335,0342,0330,0335,0342,0330,0342,0330,0335,0342,0330,0335,0342,0335,0331,0333,0337,0337
01314:0333,0200,0314,0336,0332,0332,0330,0200,0333,0200,0333,0200,0331,0337,0313
01315:0333,0313,0200,0336,0330,0332,0341,0335,0342,0334,0334,0342,0334,0334,0330,0334,0331,0337
01316:0333,0200,0336,0336,0330,0332,0332,0332,0336,0341,0330,0330,0330,0330,0341,0333,0333,0331,0331,0341,0333,0333,0330,0330,0341,0331,0331,0331,0331,0341,0333,0333,0331,0331,0337,0337,0337,
01317:0333,0200,0336,0336,0330,0332,0336,0330,0333,0337,0342,0336,0330,0334,0337,0337,0342,0330,0336,0342,0330,0335,0336,0342,0331,0342,0332,0330,0337,0337,0333,0333,0331,0337
01320:0333,0200,0336,0336,0330,0332,0332,0337,0320,0342,0320,0332,0320,0336,0331,0337,0337,0333,
01321:0333,0200,0336,0336,0330,0332,0332,0337,0321,0342,0321,0332,0320,0336,0331,0337,0337,0333
01322:0333,0200,0336,0336,0330,0332,0332,0337,0322,0342,0321,0332,0320,0336,0331,0337,0337,0333
01327:0333,0200,0336,0336,0330,0332,0332,0337,0327,0342,0321,0332,0320,0336,0331,0337,0337,0333,
01330:0333,0200,0313,0336,0336,0330,0332,0336,0332,0337,0342,0334,0342,0330,0335,0342,0330,0334,0336,0342,0330,0335,0350,0335,0337,0310,0337,0342,0330,0335,0335,0342,0330,0335,0335,0335,0336,0313,0336,0342,0330,0351,0335,0331,0331,0331,0331,0333,0333,0333,0337,0337,0337
01331:0333,0200,0335,0335,0333,0331,0313,0336,0336,0330,0332,0336,0332,0337,0342,0334,0342,0330,0335,0342,0330,0334,0336,0342,0330,0335,0350,0335,0337,0310,0337,0342,0330,0335,0335,0342,0330,0335,0335,0335,0336,0313,0336,0342,0330,0351,0335,0331,0331,0331,0331,0333,0333,0333,0337,0337,0337,0332,0335,0335,0331
01332:0333,0200,0334,0333,0313,0336,0336,0330,0332,0336,0332,0337,0342,0334,0342,0330,0335,0342,0330,0334,0336,0342,0330,0335,0350,0335,0337,0310,0337,0342,0330,0335,0335,0342,0330,0335,0335,0335,0336,0313,0336,0342,0330,0351,0335,0331,0331,0331,0331,0333,0333,0333,0337,0337,0337,0335,0331
01333:0333,0200,0335,0331,0313,0336,0336,0330,0332,0336,0332,0337,0342,0334,0342,0330,0335,0342,0330,0334,0336,0342,0330,0335,0350,0335,0337,0310,0337,0342,0330,0335,0335,0342,0330,0335,0335,0335,0336,0313,0336,0342,0330,0351,0335,0331,0331,0331,0331,0333,0333,0333,0337,0337,0337,0330,0334
01334:0333,0200,0336,0330,0332,0336,0350,0343,0334,0334,0343,0334,0334,0343,0334,0342,0335,0330,0336,0330,0334,0334,0334,0337,0342,0334,0351,0336,0331,0337,0337,0333,0337
01335:0333,0200,0336,0330,0332,0336,0350,0343,0334,0334,0343,0334,0334,0343,0334,0334,0334,0342,0334,0330,0336,0330,0335,0335,0335,0337,0342,0336,0335,0331,0351,0337,0337,0332,0335,0335,0337,0331
01336:0333,0200,0336,0330,0334,0336,0330,0337,0342,0336,0331,0335,0337,0331,0337
01337:0333,0200,0336,0330,0332,0336,0342,0334,0342,0334,0342,0334,0342,0330,0330,0334,0337,0331,0337
01340:0333,0200,0336,0330,0332,0340,0333,0331,0337
01341:0333,0200,0336,0330,0332,0341,0340,0333,0331,0337
01342:0333,0200,0336,0330,0332,0334,0336,0342,0330,0340,0331,0335,0335,0342,0330,0340,0333,0333,0330,0334,0337,0337
01343:0333,0200,0336,0330,0332,0350,0343,0335,0342,0334,0334,0342,0335,0340,0351,0331,0333,0337
01344:0304,0313,0333,0200,0336,0332,0344,0333,0337
01345:0304,0313,0333,0200,0336,0332,0345,0333,0337
01346:0304,0313,0333,0200,0336,0332,0346,0333,0337
01347:0304,0313,0333,0200,0336,0332,0347,0333,0337
01350:0333,0200,0336,0330,0332,0350,0335,0342,0335,0335,0342,0334,0336,0336,0342,0330,0330,0342,0331,0331,0351,0337,0337,0334,0333,0331,0337
01351:0333,0200,0336,0332,0330,0350,0335,0336,0336,0342,0330,0330,0342,0330,0330,0342,0331,0331,0331,0331,0335,0337,0337,0342,0335,0342,0334,0351,0333,0330,0334,0337
01352:0333,0200,0336,0330,0332,0335,0350,0352,0334,0334,0334,0342,0335,0335,0336,0336,0342,0330,0330,0342,0331,0331,0335,0335,0342,0330,0330,0342,0331,0331,0335,0335,0337,0337,0342,0335,0335,0335,0351,0353,0330,0334,0334,0333,0337
01353:0333,0200,0336,0330,0332,0335,0350,0352,0334,0342,0335,0335,0342,0335,0335,0336,0336,0342,0330,0330,0342,0331,0331,0334,0334,0334,0334,0334,0334,0342,0330,0330,0342,0331,0331,0335,0335,0335,0351,0353,0337,0337,0333,0330,0334,0337
01362:0333,0200,0336,0336,0330,0332,0332,0332,0340,0342,0330,0342,0330,0335,0342,0330,0342,0330,0350,0334,0334,0334,0342,0334,0334,0335,0334,0342,0334,0304,0330,0330,0330,0334,0334,0333,0337,0337,
01363:0304,0313,0333,0200,0336,0332,0330,0336,0330,0332,0335,0342,0330,0342,0330,0335,0342,0330,0342,0330,0334,0350,0334,0342,0334,0334,0342,0340,0335,0304,0331,0333,0337,0337
01365:0313,0304,0333,0200,0336,0330,0332,0336,0331,0332,0337,0350,0350,0334,0342,0335,0335,0342,0334,0304,0333,0350,0350,0334,0342,0335,0335,0342,0334,0304,0336,0333,0331,0337,0337
01200:0333,0200,0336,0336,0330,0332,0337,0200,0336,0331,0333,0337,0337
01201:0304,0313,0333,0200,0336,0336,0330,0330,0332,0332,0332,0335,0336,0337,0337,0342,0330,0335,0350,0335,0336,0336,0342,0335,0335,0342,0335,0304,0337,0331,0331,0333,0337,0337
01020:0304,0333,0200,0336,0330,0332,0336,0336,0332,0337,0200,0333,0333,0200,0332,0332,0336,0330,0335,0337,0342,0330,0350,0335,0335,0351,0333,0350,0336,0334,0342,0334,0334,0342,0337,0335,0351,0333,0336,0333,0331,0337,0337,0331,0337,0304,0336,0330,0330,0336,0330,0334,0331,0337,0337
01021:0304,0333,0200,0336,0330,0332,0336,0336,0332,0337,0200,0333,0333,0200,0332,0332,0336,0330,0335,0337,0342,0330,0350,0335,0335,0335,0336,0342,0335,0335,0342,0337,0335,0351,0333,0336,0333,0331,0337,0337,0331,0337,0304
01022:0333,0200,0336,0336,0330,0330,0332,0332,0332,0336,0336,0333,0337,0337,0336,0330,0336,0333,0337,0337,0200,0333,0200,0333,0200,0331,0331,0332,0332,0200,0333,0200,0333,0200,0336,0333,0331,0337,0337,0332,0330,0336,0336,0331,0337,0342,0330,0335,0350,0335,0336,0342,0335,0335,0342,0337,0335,0335,0335,0351,0331,0331,0331,0333,0333,0336,0330,0337,0337,0337
01023:0333,0200,0336,0336,0330,0330,0332,0332,0332,0336,0336,0333,0337,0337,0336,0330,0336,0333,0337,0337,0200,0333,0200,0333,0200,0331,0331,0332,0332,0200,0333,0200,0333,0200,0336,0333,0331,0337,0337,0332,0330,0336,0336,0331,0337,0335,0335,0331,0342,0330,0335,0350,0335,0336,0342,0335,0335,0342,0337,0335,0335,0335,0351,0331,0331,0331,0333,0333,0336,0330,0337,0337,0337,0335,0335,0331,0333
01024:0333,0200,0336,0336,0330,0332,0337,0200,0336,0336,0330,0332,0337,0200,0336,0336,0330,0332,0337,0200,0333,0333,0333,0331,0331,0331,0336,0331,0333,0337,0337,0337,0337
01025:0333,0200,0336,0336,0330,0332,0337,0336,0336,0330,0332,0337,0200,0336,0336,0330,0332,0337,0200,0333,0333,0333,0331,0331,0331,0336,0331,0333,0337,0337,0337,0337
01026:0333,0200,0336,0330,0332,0336,0336,0333,0331,0337,0200,0306,0335,0342,0332,0342,0330,0335,0335,0342,0335,0335,0335,0335,0331,0334,0304,0332,0306,0335,0342,0330,0350,0335,0342,0334,0331,0335,0304,0334,0331,0332,0335,0336,0332,0337,0342,0330,0350,0335,0335,0335,0336,0342,0335,0335,0342,0335,0304,0331,0331,0331,0331,0333,0333,0333,0333,0333,0337,0337,0337
01027:0333,0200,0336,0330,0332,0336,0336,0333,0331,0337,0332,0200,0306,0335,0342,0332,0342,0330,0335,0335,0342,0335,0335,0335,0335,0331,0334,0304,0332,0306,0335,0342,0330,0350,0335,0342,0334,0331,0335,0304,0334,0331,0333,0333,0330,0335,0342,0330,0350,0335,0335,0335,0336,0342,0335,0335,0342,0335,0304,0331,0331,0331,0331,0331,0333,0337,0337,0337
01010:0333,0200,0350,0334,0310,0337,0342,0336,0332,0335,0335,0337,0342,0336,0333,0334,0351,0313
01030:0333,0200,0336,0332,0337,0350,0350,0350,0342,0335,0342,0335,0342,0335,0342,0335,0342,0335,0342,0334,0334,0334,0334,0334,0334,0342,0334,0342,0334,0342,0334,0342,0334,0334,0342,0335,0335,0335,0335,0335,0335,0335,0335,0335,0335,0335,0335,0342,0334,0334,0334,0334,0334,0334,0304,0343,0336,0333,0337
0400:0300
0200:0304,0342,0330,0334,0342,0330,0334,0342,0330,0334,0342,0330,0334
0201:0344,0330,
01201:0304,0313,0333,0200,0336,0336,0330,0330,0332,0332,0332,0335,0336,0337,0337,0342,0330,0335,0350,0335,0336,0336,0342,0335,0335,0342,0335,0304,0337,0331,0331,0333,0337,0337
0202:0336,0336,0333,0350,0334,0345,0335,0330,0304,0335,0337,0337,
01202:0333,0200,0336,0350,0334,0343,0335,0304,0337,
0203:0336,0336,0332,0350,0335,0346,0334,0330,0304,0334,0337,0337,
01203:0333,0200,0332,0336,0350,0335,0343,0334,0304,0337,0333,
01344:0333,0200,0336,0330,0332,0336,0332,0340,0335,0337,0342,0330,0340,0334,0332,0336,0331,0332,0331,0337,0337,0350,0336,0335,0342,0333,0342,0333,0334,0304,0337
0205:0336,0336,0336,0327,0363,0347,0337,0337,0337,
01205:0333,0200,0336,0332,0330,0205,0331,0333,0337,
0210:0333,0333,0333,0333,0333,0333,0333,0330,0330,0330,0330,0330,0330,0205
0211:0333,0333,0333,0333,0333,0333,0333,0330,0330,0330,0205
0212:0333,0333,0333,0333,0333,0333,0333,0331,0331,0331,0205
0213:0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0205
0214:0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0205
0215:0332,0332,0332,0332,0332,0332,0332,0332,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0205
0216:0332,0332,0332,0332,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0205
0400:0300,0210,0300,0211,0300,0212,0300,0213,0300,0214,0300,0215,0300,0216
0400:0300,0313,0337,0337,0333,0330,0330,0335,0335,0336,0332,0336,0333,0332,0332,0337,0337,0321,0362,0201,0201,0201,0201,0336,0336,0201,0337,0337,0202,0201,0201,0201,0201,0337,0203,0336,0201,0201,0203,0201,0337,0336,0336,0336,0201,0337,0337,0337,0202,0201,0363,0300,0210,0300,0211,0300,0212,0300,0213,0300,0214,0300,0215,0300,0216,
0610:0107,0141,0154,0154,0145,0162,0171,040,0120,0154,0141,0143,0145,055,0103,0150,0151,0156,0141,040,0124,0157,0167,0156,
0611:0101,0162,0143,0150,0151,0166,0145,0163,055,0116,0141,0166,0171,040,0115,0145,0155,0157,0162,0151,0141,0154,
0612:0114,047,0105,0156,0146,0141,0156,0164,040,0120,0154,0141,0172,0141,
0613:0120,0145,0156,0164,0141,0147,0157,0156,
0614:0120,0145,0156,0164,0141,0147,0157,0156,040,0103,0151,0164,0171,
0615:0103,0162,0171,0163,0164,0141,0154,040,0103,0151,0164,0171,
0616:0116,0141,0164,0151,0157,0156,0141,0154,040,0101,0151,0162,0160,0157,0162,0164,
0400:0220,0300,0313,0337,0337,0333,0330,0330,0335,0335,0336,0332,0336,0333,0332,0332,0337,0337,0321,0362,0201,0201,0201,0201,0336,0336,0201,0337,0337,0202,0201,0201,0201,0201,0337,0203,0336,0201,0201,0203,0201,0337,0336,0336,0336,0201,0337,0337,0337,0202,0201,0363,0300,0210,0300,0211,0300,0212,0300,0213,0300,0214,0300,0215,0300,0216,0300,0330,0330,0330,0330,0330,0330,0330,0333,0333,0333,0333,0333,0333,0333,0333,0331,0610,0365,0300,0611,0330,0330,0330,0333,0333,0333,0333,0333,0333,0333,0333,0365,0300,0612,0333,0333,0333,0333,0333,0333,0333,0333,0331,0331,0331,0365,0300,0613,0331,0331,0331,0331,0331,0331,0331,0331,0331,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0365,0300,0614,0331,0331,0331,0331,0331,0331,0331,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0331,0331,0331,0331,0331,0331,0331,0331,0333,0333,0331,0331,0365,0300,0615,0337,0337,0331,0331,0332,0331,0331,0331,0336,0336,0332,0332,0332,0332,0365,0300,0616,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0332,0332,0332,0365,0300,
0210:0337,0337,0331,0331,0331,0331,0331,0331,0331,0332,0321,0336,0362,0201,0201,0203,0201,0336,0201,0337,0202,0201,0201,0203,0201,0336,0201,0337,0202,0201,0201,0336,0336,0201,0337,0337,0202,0201,0201,0203,0201,0201,0201,0202,0201,0201,0201,0201,0201,0201,0336,0201,0337,0203,0201,0201,0201,0201,0201,0201,0201,0201,0201,0201,0201,0201,0363,0300
0401:0210,0300,0230,0231,0232,0233,0234,0235,0236,0237,0240,0241,0242,0243,0244,0245,0246,0247,0250,0251,0252,0253,0254,0255,0256,0257,0260,0261,0262,0263,0264,0265,0266,0267,0270,0271,0272,0273,0274,
0402:0300,0337,0337,0331,0331,0331,0331,0331,0331,0331,0332,0321,0336,0362,0201,0201,0203,0201,0336,0201,0337,0202,0201,0201,0203,0201,0336,0201,0337,0202,0201,0201,0336,0336,0201,0337,0337,0202,0201,0201,0203,0201,0201,0201,0202,0201,0201,0201,0201,0201,0201,0336,0201,0337,0203,0201,0201,0201,0201,0201,0201,0201,0201,0201,0201,0201,0203,0201,0336,0201,0337,0202,0201,0201,0203,0336,0201,0337,0202,0201,0201,0201,0201,0201,0201,0201,0201,0363,0300,0300,0230,0231,0232,0233,0234,0235,0236,0237,0240,0241,0242,0243,0244,0245,0246,0247,0250,0251,0252,0253,0254,0255,0256,0257,0260,0261,0262,0263,0264,0265,0266,0267,0270,0271,0272,0273,0274,
0211:0337,0337,0331,0331,0331,0331,0331,0331,0331,0332,0322,0336,0362,0201,0201,0203,0201,0336,0201,0337,0202,0201,0201,0203,0201,0336,0201,0337,0202,0201,0201,0336,0336,0201,0337,0337,0202,0201,0203,0201,0203,0201,0201,0202,0201,0201,0201,0201,0201,0203,0201,0201,0202,0201,0201,0336,0201,0337,0202,0201,0201,0201,0201,0201,0201,0203,0202,0201,0201,0201,0201,0336,0201,0337,0202,0201,0201,0201,0201,0201,0203,0201,0201,0201,0201,0201,0201,0201,0201,0201,0201,0202,0201,0201,0201,0337,0203,0201,0363,0363,0300
0403:0210,0211,0212,0300,0230,0231,0232,0233,0234,0235,0236,0237,0240,0241,0242,0243,0244,0245,0246,0247,0250,0251,0252,0253,0254,0255,0256,0257,0260,0261,0262,0263,0264,0265,0266,0267,0270,0271,0272,0273,0274,
0212:0337,0337,0330,0330,0330,0330,0332,0330,0330,0330,0330,0330,0335,0335,0333,0336,0330,0330,0333,0336,0333,0332,0332,0337,0324,0362,0201,0201,0201,0201,0201,0201,0201,0201,0201,0336,0336,0201,0337,0337,0203,0201,0201,0336,0201,0337,0202,0201,0336,0201,0337,0203,0201,0201,0202,0201,0203,0201,0201,0201,0202,0201,0203,0201,0201,0336,0201,0337,0203,0201,0201,0202,0203,0201,0201,0201,0202,0201,0336,0201,0337,0203,0201,0201,0201,0201,0201,0201,0201,0201,0363,0300
0404:0210,0211,0212,0213,0214,0215,0300,0230,0231,0232,0234,0235,0236,0241,0242,0243,0244,0245,0246,0247,0253,0254,0255,0256,0257,0260,0262,0266,0267,0270,
0210:0337,0337,0331,0331,0331,0331,0332,0332,0336,0332,0321,0336,0362,0201,0201,0201,0201,0201,0201,0201,0337,0201,0202,0201,0201,0201,0201,0336,0201,0337,0201,0201,0201,0336,0201,0337,0203,0201,0201,0201,0201,0201,0201,0201,0201,0201,0201,0201,0363,0300,
0211:0337,0337,0331,0331,0331,0331,0332,0332,0336,0332,0337,0322,0336,0336,0336,0332,0337,0337,0362,0201,0201,0201,0336,0336,0201,0337,0337,0201,0201,0201,0203,0201,0201,0336,0201,0337,0201,0337,0202,0336,0336,0201,0337,0337,0201,0336,0201,0336,0201,0337,0337,0202,0201,0201,0201,0336,0203,0202,0201,0201,0201,0201,0337,0202,0201,0201,0337,0203,0201,0201,0201,0201,0363,0363,0300,
0212:0337,0337,0330,0330,0330,0330,0332,0330,0335,0335,0330,0333,0336,0333,0332,0332,0332,0337,0324,0362,0201,0336,0201,0336,0337,0337,0203,0336,0201,0202,0201,0203,0201,0201,0201,0201,0337,0202,0336,0201,0203,0201,0336,0336,0201,0337,0337,0201,0337,0203,0201,0201,0201,0363,0300,
0213:0323,0337,0337,0331,0331,0333,0333,0336,0332,0336,0333,0333,0336,0332,0337,0337,0337,0331,0331,0362,0201,0201,0201,0201,0201,0201,0201,0201,0363,0300
0214:0326,0337,0337,0332,0332,0332,0332,0332,0330,0335,0336,0336,0332,0337,0331,0331,0331,0331,0362,0201,0201,0201,0201,0201,0203,0336,0336,0201,0337,0337,0202,0201,0201,0201,0201,0201,0201,0203,0202,0201,0201,0201,0336,0201,0337,0202,0201,0201,0201,0201,0336,0336,0201,0337,0337,0337,0337,0203,0201,0201,0201,0201,0363,0300
0215:0325,0337,0337,0332,0332,0332,0332,0332,0330,0335,0336,0336,0332,0337,0331,0331,0331,0331,0336,0336,0333,0331,0337,0337,0362,0201,0201,0201,0201,0201,0203,0336,0336,0201,0337,0337,0202,0201,0201,0201,0201,0201,0201,0203,0202,0201,0201,0201,0336,0201,0337,0202,0201,0201,0201,0201,0336,0336,0201,0337,0337,0337,0337,0203,0201,0201,0201,0201,0363,0300
0402:0300,0300,0210,0211,0212,0213,0300,0326,0337,0337,0332,0332,0332,0332,0332,0330,0335,0336,0336,0332,0337,0331,0331,0331,0331,0362,0201,0201,0201,0201,0201,0203,0336,0336,0201,0337,0337,0202,0201,0201,0201,0201,0201,0201,0203,0202,0201,0201,0201,0336,0201,0337,0202,0201,0201,0201,0201,0336,0336,0201,0337,0337,0337,0337,0203,0201,0201,0201,0201,0363,0300,0230,0231,0232,0234,0235,0236,0241,0242,0243,0244,0245,0246,0247,0253,0254,0255,0256,0257,0260,0262,0266,0267,0270,
01366:0333,0200,0336,0336,0332,0332,0332,0330,0335,0337,0366,0340,0342,0330,0332,0335,0335,0367,0335,0336,0333,0330,0337,0337,0331
01367:0333,0200,0336,0336,0332,0332,0332,0330,0335,0337,0366,0330,0332,0335,0335,0367,0335,0336,0340,0334,0337,0342,0336,0333,0330,0337,0337,0331,0335,0331,0336,0332,0337,
0250:0336,0201,0336,0201,0306,0350,0336,0201,0335,0201,0335,0335,0335,0335,0201,0335,0304,0201,0337,0201,0201,0201,0335,0336,0201,0335,0337,0337
*/
</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<script>

	currentTable = []; 
	for(var index = 0;index < 01777;index ++){
		currentTable.push("");
	}  
	var inputbytecode = document.getElementById("bytecodeScript").text;
	
	var bytecodearray = inputbytecode.split("\n");

	for(var index = 0;index < bytecodearray.length;index++){
		if(bytecodearray[index].includes(":")){
			var localBytecode = bytecodearray[index].split(":");
			var localAddress = parseInt(localBytecode[0],8);
			currentTable[localAddress] = localBytecode[1];
		}
	}


	myFont = "Futura";
	currentWord = "Word";
	currentSVG = "";
	currentAddress = 0402;
	currentGlyph = currentTable[currentAddress];
	currentGlyphArray = currentGlyph.split(",");
	cursorPosition = currentGlyphArray.length;
	phi = 0.5*(Math.sqrt(5) + 1);
	unit = 100;
	scaleFactor = 2;
	side = unit;
	thetaStep = Math.PI/2;
	theta0 = -Math.PI/2; 
	theta = theta0;

	x0 = 300;
	y0 = 600;
	x = x0;
	y = y0;

	cursor = {
		x:x,
		y:y,
		theta:theta,
		thetaStep:thetaStep,
		side:side,
		glyph:"0362,0344,0363,0336,0330,0340,0331,0337,0337,0330,0340,0331,0336,0334,0362,0344,0363,0335,0335,0362,0344,0363"
	}


tidalBasin = "0300,0331,0331,0331,0331,0331,0331,0332,0332,0336,0330,0332,0366,0330,0330,0330,0332,0336,0330,0337,0350,0335,0335,0335,0350,0335,0367,0304,0335,0335,0366,0330,0330,0330,0332,0332,0335,0335,0367,0335,0335,0366,0335,0330,0332,0335,0335,0367,0335,0335,0366,0330,0330,0330,0333,0335,0335,0367,0335,0335,0366,0332,0332,0335,0335,0331,0367,0335,0335,0366,0330,0330,0333,0333,0334,0367,0334,0366,0335,0336,0332,0331,0367,0335,0335,0337,0366,0330,0330,0334,0334,0336,0333,0331,0337,0337,0367,0335,0336,0366,0333,0333,0333,0333,0330,0330,0334,0337,0337,0367,0336,0336,0334,0337,0337,0366,0336,0330,0335,0335,0336,0332,0331,0331,0337,0367,0335,0335,0366,0337,0336,0330,0335,0335,0336,0333,0331,0337,0337,0367,";

currentTable[0420] = tidalBasin;

	pentagon = "0337,0337,0331,0331,0331,0332,0332,0336,0336,0330,0332,0331,0336,0330,0336,0331,0333,0336,0330,0332,0337,0337,0337,0337,0310,0336,0350,0350,0334,0311,0337,0310,0336,0305,0362,0203,0334,0203,0334,0203,0334,0203,0334,0203,0363,0334,0334,0311,0336,";

currentTable[0421] = pentagon;

	keyBridge = "0337,0332,0332,0332,0332,0332,0332,0332,0330,0330,0330,0330,0332,0336,0332,0331,0332,0336,0333,0333,0336,0332,0310,0337,0337,0337,0337,0337,0337,0350,0350,0335,0342";
	
currentTable[0422] = keyBridge;

	eastPotomacPark1 = "0300,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0333,0333,0333,0333,0333,0333,0331,0331,0331,0336,0336,0333,0331,0334,0337,0337,0366,0337,0337,0337,0330,0333,0333,0336,0336,0334,0334,0335,0330,0350,0334,0337,0337,0310,0312,0337,0311,0336,0367,0335,0335,0335,0335,0336,0336,0336,0336,0336,0366,0333,0336,0331,0337,0334,0367,";

currentTable[0423] = eastPotomacPark1;

	TRbridge = "0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0330,0336,0330,0336,0332,0331,0337,0337,0337,0337,0335,0350,0350,0350,0334,0312,0337,0311,0336,0342,";

currentTable[0424] = TRbridge;

	memorialBridge = "0337,0337,0332,0332,0331,0336,0332,0330,0336,0332,0336,0336,0332,0337,0337,0337,0350,0350,0335,0335,0350,0335,0350,0335,0335,0310,0337,0312,0337,0311,0336,0342,";

currentTable[0425] = memorialBridge;

	pennAve = "0300,0331,0331,0331,0331,0331,0331,0332,0332,0336,0330,0332,0366,0330,0330,0330,0332,0336,0330,0337,0350,0335,0335,0335,0350,0335,0367,0304,0335,0335,0366,0330,0330,0330,0332,0332,0335,0335,0367,0335,0335,0366,0335,0330,0332,0335,0335,0367,0335,0335,0366,0330,0330,0330,0333,0335,0335,0367,0335,0335,0366,0332,0332,0335,0335,0331,0367,0335,0335,0366,0330,0330,0333,0333,0334,0367,0334,0366,0335,0336,0332,0331,0367,0335,0335,0337,0366,0330,0330,0334,0334,0336,0333,0331,0337,0337,0367,0335,0336,0366,0333,0333,0333,0333,0330,0330,0334,0337,0337,0367,0336,0336,0334,0337,0337,0366,0336,0330,0335,0335,0336,0332,0331,0331,0337,0367,0335,0335,0366,0337,0336,0330,0335,0335,0336,0333,0331,0337,0337,0367,0300,0330,0330,0330,0330,0330,0330,0330,0330,0332,0332,0332,0332,0332,0332,0332,0336,0336,0332,0341,0336,0332,0332,0332,0332,0330,0330,0330,0337,0337,0337,0337,0350,0334,0350,0334,0310,0337,0337,0342,0335,0335,0335,0335,0335,0335,0335,0335,0336,0336,0336,0330,0337,0337,0337,0312,0337,0311,0336,0342,0330,0310,0336,0336,0336,0336,0342,0330,0334,0337,0337,0342,0330,0335,0335,0335,0335,0336,0330,0336,0336,0336,0331,0336,0330,0304,0332,0336,0332,0333,0333,0331,0336,0332,0330,0337,0337,0337,0337,0337,0337,0337,0337,0337,0350,0334,0350,0334,0337,0337,0337,0350,0350,0350,0350,0334,0351,0351,0351,0336,0310,0311,0337,0310,0336,0311,0337,0310,0336,0342";

currentTable[0426] = pennAve;

	washingtonMonument = "0300,0336,0336,0331,0333,0337,0200,0310,0350,0334,0342,0332,0335,0335,0342,0300,";

currentTable[0427] = washingtonMonument;

	whitehouse = "0300,0330,0330,0332,0336,0333,0330,0330,0336,0331,0336,0330,0332,0337,0337,0335,0337,0310,0336,0336,0336,0336,0330,0337,0337,0337,0343,0335,0335,0336,0336,0330,0337,0336,0336,0336,0331,0330,0330,0337,0337,0337,0337,0343,0336,0336,0336,0331,0337,0337,0337,0334,0331,0331,0343,0335,0335,0332,0310,0337,0337,0342,0333,0342,0336,0336,0336,0333,0330,0200,0332,0332,0332,0332,0200,0333,0333,0333,0336,0332,0332,0330,0341,0340,0335,0330,0342,0335,0335,0330,0330,0342,0331,0331,0331,0333,0333,0337,0337,0337,0337,0342,0332,0332,0332,0336,0336,0333,0336,0332,0336,0333,0330,0337,0337,0342,0300,";

currentTable[0430] = whitehouse;

	nationalAirport = "0337,0337,0337,0331,0331,0336,0336,0331,0332,0336,0336,0333,0330,0336,0332,0335,0335,0337,0337,0337,0337,0337,0350,0350,0350,0350,0350,0334,0304,0342,0350,0350,0335,0342,0304,0336,0336,0310,0337,0333,0350,0334,0337,0337,0337,0350,0350,0350,0335,0335,0342,0334,0334,0334,0350,0334,0342,0335,0335,0335,0335,0335,0335,0335,0335,0335,0335,0335,0335,0351,0351,0351,0351,0351,0336,0336,0336,0335,0335,0331,0336,0336,0336,0336,0350,0350,0350,0334,0304,0331,0350,0350,0350,0350,0334,0304,0336,0200,0331,0331,0331,0331,0331,0200,0333,0333,0333,0333,0333,0333,0333,0333,0333,0331,0334,0337,0337,0337,0337,0337,0337,0350,0350,0350,0350,0334,0342,0334,0334,0334,0334,0334,0334,0334,0334,0334,0342,0335,0335,0335,0335,0335,0335,0335,0335,0335,0335,0330,0335,0335,0335,0335,0335,0335,0335,0335,0335,0335,0335,0335,0335,0335,0335,0335,0304,0336,0336,0336,0336,0336,0336,0332,0337,0337,0337,0337,0337,0337,0342,";
currentTable[0431] = nationalAirport;

potomacUpperEast = "0300,0331,0331,0331,0331,0331,0331,0332,0332,0332,0336,0333,0330,0336,0336,0331,0332,0334,0350,0334,0337,0337,0337,0350,0350,0334,0304,0366,0333,0333,0333,0333,0333,0333,0330,0331,0331,0333,0334,0336,0336,0332,0333,0333,0337,0337,0337,0350,0350,0350,0335,0304,0367,0335,0335,0336,0336,0366,0333,0330,0330,0330,0333,0336,0332,0334,0337,0337,0350,0334,0367,0335,0335,0335,0337,0337,0366,0333,0336,0330,0334,0334,0334,0304,0336,0336,0336,0333,0333,0337,0337,0367,0335,0350,0335,0366,0330,0330,0330,0335,0335,0335,0335,0304,0336,0336,0333,0333,0337,0337,0337,0350,0350,0350,0334,0304,0367,0335,0335,0350,0350,0350,0334,0366,0330,0330,0304,0335,0335,0336,0331,0367";
currentTable[0432] = potomacUpperEast;

potomacLowerWest = "0300,0337,0337,0337,0331,0331,0331,0336,0333,0336,0332,0330,0336,0331,0331,0336,0330,0332,0337,0337,0310,0337,0366,0330,0330,0336,0331,0332,0330,0335,0350,0335,0336,0336,0336,0367,0304,0335,0335,0350,0350,0350,0334,0304,0337,0366,0330,0333,0336,0330,0335,0335,0350,0335,0367,0335,0335,0342,0330,0334,0342,0330,0335,0335,0337,0342,0330,0335,0335,0335,0337,0337,0350,0350,0350,0334,0342,0330,0304,0350,0334,0336,0366,0337,0330,0304,0332,0332,0330,0336,0336,0336,0336,0331,0336,0330,0336,0331,0335,0337,0337,0337,0337,0337,0337,0337,0350,0350,0350,0335,0335,0367,";
currentTable[0433] = potomacLowerWest;

potomacUpperWest = "0300,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0332,0332,0332,0336,0332,0350,0334,0337,0337,0310,0336,0366,0304,0330,0336,0330,0332,0335,0337,0367,0336,0336,0336,0336,0336,0332,0337,0337,0337,0337,0337,0366,0330,0335,0331,0331,0331,0336,0336,0336,0333,0337,0337,0337,0337,0337,0367,0335,0335,0366,0330,0350,0350,0335,0330,0304,0335,0335,0336,0336,0336,0336,0336,0333,0337,0337,0337,0337,0337,0337,0337,0336,0336,0350,0350,0350,0350,0334,0334,0367,0304,0335,0335,0336,0336,0366,0330,0336,0336,0330,0332,0335,0350,0335,0304,0336,0333,0336,0332,0337,0337,0337,0337,0367,0334,0334,0336,0336,0336,0366,0333,0333,0330,0337,0337,0337,0337,0333,0333,0330,0334,0334,0335,0350,0350,0350,0334,0334,0334,0304,0336,0336,0336,0336,0333,0337,0337,0337,0367,0335,0335,0350,0350,0350,0335,0335,0366,0304,0330,0335,0331,0331,0367,";
currentTable[0434] = potomacUpperWest;

lincoln = "0300,0337,0337,0332,0332,0336,0336,0336,0333,0333,0331,0336,0330,0337,0200,0336,0330,0332,0310,0337,0337,0337,0341,0333,0336,0336,0336,0336,0333,0331,0335,0337,0337,0337,0337,0337,0337,0337,0337,0337,0336,0342,0330,0336,0336,0336,0336,0342,0330,0334,0336,0336,0342,0330,0334,0337,0337,0337,0337,0337,0337,0342,0330,0336,0336,0336,0336,0342,0330,0334,0336,0342,0335,0335,";

currentTable[0435] = lincoln;

washingtonChannel = "0300,0337,0337,0331,0331,0331,0331,0331,0333,0336,0333,0336,0336,0336,0333,0335,0333,0337,0310,0337,0366,0336,0313,0337,0337,0332,0332,0332,0332,0335,0330,0336,0336,0336,0332,0337,0337,0337,0367,0335,0335,0366,0332,0330,0330,0336,0333,0330,0336,0332,0335,0336,0330,0337,0337,0350,0335,0350,0335,0304,0337,0367,0335,0335,0366,0330,0330,0335,0335,0333,0336,0336,0332,0350,0350,0334,0304,0337,0337,0367,0335,0335,0366,0336,0330,0333,0330,0335,0335,0350,0335,0367,0300,0331,0331,0331,0331,0333,0336,0333,0335,0337,0337,0350,0350,0350,0335,0335,0342,0330,0337,0335,0335,0310,0342,0330,0336,0336,0304,0336,0336,0366,0330,0335,0335,0336,0331,0331,0332,0336,0330,0335,0350,0334,0304,0337,0337,0367,0335,0350,0335,0350,0335,0337,0337,0337,0342,0330,0335,0337,0342,0330,0304,0336,0336,0336,0366,0332,0336,0330,0350,0335,0337,0337,0367";

currentTable[0436] = washingtonChannel;

jefferson = "0300,0331,0331,0331,0331,0331,0336,0332,0341,0340,";

constitution = "0300,0330,0332,0332,0332,0332,0332,0332,0332,0332,0336,0330,0332,0335,0337,0337,0337,0337,0337,0337,0342";

currentTable[0437] = jefferson;
currentTable[0440] = constitution;
independence = "0333,0331,0336,0333,0336,0333,0335,0337,0337,0337,0337,0337,0342,";
currentTable[0441] = independence;

</script>
</head>
<body>
<div></div>
<div class = "atom" style = "overflow:scroll">
<h2>Map 2: The Core, Actual map</h2>
<canvas width = "1200" height = "800" id = "map3" style = "border:solid"></canvas>

<div class = "atom" id = "masterRoot"></div>
<div id = "glyphTableEditor" class = "atom" style = "display:none">	
	<canvas style = "display:none;" id = "invisibleCanvas"></canvas>
	<div class = "atom"  style = "width:600px;height:300px;overflow:scroll">
		<canvas width = "1200" height = "1200" id = "plotCanvas" style = "border:solid"></canvas>
	</div>
	<div id = "wordPanel" class = "atom" onchange = "updateWordOption();">
		<input id = "wordInput" onchange = "updateWordInput();"></input>
		<select id = "wordSelect">
		</select>
	</div>
	<div id = "spellDiv">
		<canvas width = "3000" height = "30" id = "spellCanvas" style = "border:solid;float:left;"></canvas>
		<input size = "6" id = "addr" style = "float:left;" onchange = "updateAddr();"></input>
		<input style = "float:left;" size = "428" id = "glyphBytecode" onchange = "updateGlyph()"></input>
	</div>
	<div class = "atom" style = "width:610px;height:auto" id = "controlPad">
		<div style = "width:95px;height:100px;float:left" id = "directionPad"></div>
		<div style = "width:210px;height:30px;float:left" id = "anglePad"></div>
		<div style = "width:180px;height:30px;float:left" id = "scalePad"></div>
		<div style = "width:125px;height:100px;float:right;" id = "rootPad"></div>
		<div style = "width:300px;height:100px;float:left;" id = "drawPad"></div>
		<input style = "float:left;margin:0px" size = "80" id = "drawGlyphGlyph" onchange = "updateDrawGlyphs();"></input>
	</div>
	<p>
	<div class = "atom">
		<textarea id = "mainTextArea"  cols = "84" rows = "12">
		</textarea>
	</div>
</div>


<script>

var newSelect = document.getElementById("wordSelect");
for(var index = 0600;index < 0700;index++){
	var newOption = document.createElement("OPTION");
	newOption.text = "0" + index.toString(8);
	newSelect.appendChild(newOption);
}

currentNode = document.getElementById("directionPad");
//buildPanel([0334,0330,0335,0332,0300,0333,0336,0331,0337]);
buildPanel("0334,0330,0335,0332,0300,0333,0336,0331,0337");

currentNode = document.getElementById("anglePad");
buildPanel("0304,0305,0306,0350,0351,0352,0353");

currentNode = document.getElementById("scalePad");
buildPanel("0310,0311,0312,0313,0314,0316");

currentNode = document.getElementById("rootPad");
buildPanel("020,010,021,022,023,024,025,026,027");


currentNode = document.getElementById("drawPad");
drawGlyphsGlyph = "0340,0341,0342,0200,0320,0321,0322,0343,0202,0203,0344,0362,0201,0363,0347,0205,0365";
document.getElementById("drawGlyphGlyph").value = drawGlyphsGlyph;
buildPanel(drawGlyphsGlyph);


ctx = document.getElementById("plotCanvas").getContext("2d");
currentGlyph = currentTable[currentAddress];
redraw();


currentNode = document.getElementById("masterRoot");
appendGlyphButton(030);




function buildPanel(glyphsGlyph){
	var glyphsGlyphArray = glyphsGlyph.split(",");
	var buttonArray = [];
	for(var index = 0;index < glyphsGlyphArray.length;index++){
		buttonArray.push(parseInt(glyphsGlyphArray[index],8));
	}
	for(var index = 0;index < buttonArray.length;index++){
		appendGlyphButton(buttonArray[index]);
	}
}

function updateWordOption(){
	wordAddress = parseInt(document.getElementById("wordSelect").value,8);
	document.getElementById("wordInput").value = byteCode2string(currentTable[wordAddress]);
}

function updateWordInput(){
	wordAddress = parseInt(document.getElementById("wordSelect").value,8);
	currentTable[wordAddress] = string2byteCode(document.getElementById("wordInput").value);
}

function updateAddr(){
	currentAddress = parseInt(document.getElementById("addr").value,8);
	currentGlyph = currentTable[currentAddress];
	currentGlyphArray = currentGlyph.split(",");
	cursorPosition = currentGlyphArray.length;
	redraw();
}

function updateGlyph(){
	currentGlyph = document.getElementById("glyphBytecode").value;
	currentGlyph = commaCleaner(currentGlyph);
	currentTable[currentAddress] = currentGlyph;
	currentGlyphArray = currentGlyph.split(",");
	cursorPosition = currentGlyphArray.length;
	redraw();	
}

function updateDrawGlyphs(){
	currentNode = document.getElementById("drawPad");
	while (currentNode.hasChildNodes()) {
		currentNode.removeChild(currentNode.childNodes[0]);
	}
	drawGlyphsGlyph = document.getElementById("drawGlyphGlyph").value;
	buildPanel(drawGlyphsGlyph);
}


function redraw(){
	x0 = 600;
	y0 = 700;
	unit = 100;
	unit = 10;
	//draw the glyph:
	ctx = document.getElementById("plotCanvas").getContext("2d");
	//draw current glyph:
	doTheThing(0300);
	ctx.fillStyle = "#808080"
	ctx.fillRect(0,0,1200,1200);
	doTheThing(0300);

	drawGlyph(currentGlyph);
	//draw the cursor:
	ctx = document.getElementById("invisibleCanvas").getContext("2d");
	getCursor();
	ctx = document.getElementById("plotCanvas").getContext("2d");
	drawGlyph(cursor.glyph);

	//spell:
	ctx = document.getElementById("spellCanvas").getContext("2d");
	ctx.clearRect(0,0,3000,40);
	unit = 20;
	x0 = 5;
	y0 = 25;
	doTheThing(0300);
	spellGlyph(currentGlyph);
	
	document.getElementById("addr").value = "0" + currentAddress.toString(8);
	document.getElementById("glyphBytecode").value = currentGlyph;
	
}


function appendGlyphButton(localCommand){
	glyphButtonSize = 30;
	var newCanvas = document.createElement("CANVAS");		
	newCanvas.width = glyphButtonSize;
	newCanvas.height = glyphButtonSize;
	newCanvas.className = "glyphButtons";
	ctx = newCanvas.getContext("2d");
	ctx.fillStyle="white";
	ctx.fillRect(5, 5, glyphButtonSize-10, glyphButtonSize-10);
	ctx.fillStyle="black";
	doTheThing(0300);			
	x = 5;
	y = glyphButtonSize-5;
	side = glyphButtonSize-10;
	doTheThing(localCommand + 01000);
	if(localCommand < 040){
		newCanvas.onclick = function(){
			localRoot(localCommand);
		}	
	}
	if(localCommand >= 040){
		newCanvas.onclick = function(){
			cursorAction(localCommand);	
			redraw();	
		}
	}
	currentNode.appendChild(newCanvas);
}


function cursorAction(localCommand){
	currentGlyphArray = currentGlyph.split(",");
	if(cursorPosition > currentGlyphArray.length){
		cursorPosition = currentGlyphArray.length;
	}
	currentGlyph = "";
	doTheThing(0300);
	
	for(var index = 0;index < cursorPosition;index++){
		currentGlyph += currentGlyphArray[index] + ",";	
		var localAction = parseInt(currentGlyphArray[index],8);
		if( !((localAction >= 0340) && (localAction < 0344)) ){
			doTheThing(localAction);
		}
	}
	if(localCommand != undefined){
		if( !((localCommand >= 0340) && (localCommand < 0344)) ){
			doTheThing(localCommand);
		}
	}
	cursor.x = x;
	cursor.y = y;
	cursor.theta = theta;
	cursor.thetaStep = thetaStep;
	cursor.side = side;
	if(localCommand != undefined){
		currentGlyph += "0" + localCommand.toString(8) + ",";
	}	
	for(var index = cursorPosition;index < currentGlyphArray.length;index++){
		currentGlyph += currentGlyphArray[index] + ",";		
	}
	cursorPosition++;	
	currentGlyph = commaCleaner(currentGlyph);
}

function getCursor(){

	currentGlyphArray = currentGlyph.split(",");
	var foo = "";
	doTheThing(0300);
	for(var index = 0;index < cursorPosition;index++){
		foo += currentGlyphArray[index] + ",";	
		var localAction = parseInt(currentGlyphArray[index],8);
		doTheThing(localAction);
	}
	cursor.x = x;
	cursor.y = y;
	cursor.theta = theta;
	cursor.thetaStep = thetaStep;
	cursor.side = side;

}

function commaCleaner(dirtyGlyph){ //remove extra commas from glyph
	var dirtyArray = dirtyGlyph.split(",");
	var cleanGlyph = "";
	for(var index = 0;index < dirtyArray.length;index++){
		if(dirtyArray[index] != ""){
			cleanGlyph += dirtyArray[index] + ",";
		}
	}
	return cleanGlyph;
}

function drawGlyph(localString){
	var tempArray = localString.split(',');
	for(var index = 0;index < tempArray.length;index++){
		doTheThing(parseInt(tempArray[index],8));
	}
}
function spellGlyph(localString){
	var tempArray = localString.split(',');
	for(var index = 0;index < tempArray.length;index++){
		    ctx.lineWidth = 2;
	      ctx.strokeStyle="black";

		doTheThing(parseInt(tempArray[index],8) + 01000);
		if(index == cursorPosition-1){
			drawGlyph("0336,0333,0336,0330,0341,0331,0337,0333,0337");
		}
	}
}

function byteCode2string(localByteCode){
	var localString = "";
	var stringArray = localByteCode.split(",");
	for(var index = 0;index < stringArray.length;index++){
		var myCharCode = String.fromCharCode(parseInt(stringArray[index],8));
		if(parseInt(stringArray[index],8) >= 040 && parseInt(stringArray[index],8) < 0177 ){
			localString += myCharCode;
		}
		if(parseInt(stringArray[index],8) == 012){//newline
			localString += myCharCode;
		}
		if(parseInt(stringArray[index],8) == 011){//vertical tab
			localString += myCharCode;
		}
		
	}
	return localString;
}

function string2byteCode(localString){
	var localByteCode = "";
	for(var stringIndex = 0;stringIndex < localString.length;stringIndex++){
		var tempCharCode = localString.charCodeAt(stringIndex);
		if(tempCharCode != 0){
			localByteCode += "0";
			localByteCode += tempCharCode.toString(8);
			localByteCode += ",";
		}
	}
	return localByteCode;
}
function doTheThing(localCommand){
 
     if(localCommand >= 0600 && localCommand < 0700){
    	//get the glyph, turn it into ascii, make it the Word:
    	if(currentTable[localCommand] != undefined){
    	 	currentWord = byteCode2string(currentTable[localCommand]);
    	}	
    }

    if(localCommand >= 0040 && localCommand <= 0277){//shapes and fonts
		 drawGlyph(currentTable[localCommand]);    	    
    }
    if(localCommand >= 0400 && localCommand <= 0477){//manuscript glyphs
		 drawGlyph(currentTable[localCommand]);    	    
    }
    if(localCommand >= 01000 && localCommand <= 01377){//symbol glyphs
		 drawGlyph(currentTable[localCommand]);    	    
    }
 
    if(localCommand == 0300){
      x = x0;
      y = y0;
      theta = theta0;
      side = unit;
      thetaStep = Math.PI/2;
      scaleFactor = 2;
      ctx.lineWidth = 2;
      ctx.strokeStyle="green";
      ctx.fillStyle="black";
    }
    if(localCommand == 0304){
      thetaStep = Math.PI/2;
    }
    if(localCommand == 0305){
      thetaStep = 2*Math.PI/5;
    }
    if(localCommand == 0306){
      thetaStep = Math.PI/3;
    }    
    if(localCommand == 0310){
       scaleFactor = Math.sqrt(2); 
    }
    if(localCommand == 0311){
       scaleFactor = phi; //"golden" ratio 
    }
    if(localCommand == 0312){
       scaleFactor = Math.sqrt(3); 
    }
    if(localCommand == 0313){
      scaleFactor = 2;  //2x
    }
    if(localCommand == 0314){
      scaleFactor = 3;  //3x
    }
    if(localCommand == 0315){
      scaleFactor = 3.14159;  //pi*
    }    
    if(localCommand == 0316){
      scaleFactor = 5;  //5*
    }        
    if(localCommand == 0317){
       side = unit; 
    }
    if(localCommand == 0320){
		ctx.strokeStyle="black";
    	ctx.lineWidth = 2;    	
    	ctx.fillStyle = "black";

    }
    if(localCommand == 0321){
		ctx.strokeStyle = "yellow";
    	ctx.lineWidth = 1;    	
    	ctx.fillStyle = "yellow";
    }
    if(localCommand == 0322){
		ctx.strokeStyle="blue";
    	ctx.lineWidth = 1;
    	ctx.fillStyle = "blue";    
    }
    if(localCommand == 0323){
		ctx.strokeStyle="green";
    	ctx.lineWidth = 1;
    	ctx.fillStyle = "green";    
    }
    if(localCommand == 0324){
		ctx.strokeStyle="red";
    	ctx.lineWidth = 1;
    	ctx.fillStyle = "red";    
    }
    if(localCommand == 0325){
		ctx.strokeStyle="orange";
    	ctx.lineWidth = 1;
    	ctx.fillStyle = "orange";    
    }
    if(localCommand == 0326){//silver
		ctx.strokeStyle="#c0c0c0";
    	ctx.lineWidth = 1;
    	ctx.fillStyle = "#c0c0c0";    
    }
    if(localCommand == 0327){
		ctx.strokeStyle="black";
    	ctx.lineWidth = 7;
    	ctx.fillStyle = "white";    
    }
    if(localCommand == 0330){
      x += side*Math.cos(theta);   
      y += side*Math.sin(theta); 
    }
    if(localCommand == 0331){
      x -= side*Math.cos(theta);   
      y -= side*Math.sin(theta); 
    }
    if(localCommand == 0332){
      x += side*Math.cos(theta - thetaStep);
      y += side*Math.sin(theta - thetaStep);
    }
    if(localCommand == 0333){
      x += side*Math.cos(theta + thetaStep);
      y += side*Math.sin(theta + thetaStep);
    }
    if(localCommand == 0334){
      theta -= thetaStep; // CCW
    }
    if(localCommand == 0335){
      theta += thetaStep; // CW
    }
    if(localCommand == 0336){
      side /= scaleFactor; // -
    }
    if(localCommand == 0337){
      side *= scaleFactor; // +
    }
    if(localCommand == 0340){  //point
		ctx.beginPath();
		ctx.arc(x, y, 3, 0, 2 * Math.PI);
		ctx.fill();	
		ctx.closePath();

    }
    if(localCommand == 0341){  //circle
		ctx.beginPath();
		ctx.arc(x, y, side, 0, 2 * Math.PI);
		ctx.closePath();
		ctx.stroke();
    }
    if(localCommand == 0342){   //line
    	ctx.beginPath();
    	ctx.moveTo(x,y);
		ctx.lineTo(x + side*Math.cos(theta),y + side*Math.sin(theta));
		ctx.stroke();		
   		ctx.closePath();

    }
    if(localCommand == 0343){
    	ctx.beginPath();
		ctx.arc(x, y, side, theta - thetaStep,theta + thetaStep);
		ctx.stroke();
		ctx.closePath();

    }
    if(localCommand == 0344){   //line
		ctx.lineTo(x + side*Math.cos(theta),y + side*Math.sin(theta));
		ctx.stroke();		
    }
    if(localCommand == 0345){  //arc
		ctx.arc(x, y, side, theta - thetaStep,theta + thetaStep);
		ctx.stroke();
    }
    if(localCommand == 0346){  //arc, reverse direction
		ctx.arc(x, y, side, theta + thetaStep,theta - thetaStep,true);
		ctx.stroke();
    }
    if(localCommand == 0347){  //filled circle
		ctx.beginPath();
		ctx.arc(x, y, side, 0, 2 * Math.PI);
		ctx.closePath();
		ctx.stroke();
		ctx.fill();
	}


    if(localCommand == 0350){
      thetaStep /= 2;  //angle/2
    }
    if(localCommand == 0351){
      thetaStep *= 2;  //2angle
    }
    if(localCommand == 0352){
      thetaStep /= 3; //angle/3
    }
    if(localCommand == 0353){
      thetaStep *= 3; //3angle
    }

    if(localCommand == 0362){
	   ctx.beginPath();
	   ctx.moveTo(x,y);
    }
    if(localCommand == 0363){
	   ctx.closePath();
	  // ctx.fill();		
    }

    if(localCommand == 0365){
        ctx.font=side.toString(8) + "px " + myFont;
		ctx.fillText(currentWord,x,y);
    }
    
    	if(localCommand == 0366){
		//ctx.beginPath();
		ctx.moveTo(Math.round(x),Math.round(y));
		cpx1 = Math.round(x + side*Math.cos(theta));
		cpy1 = Math.round(y + side*Math.sin(theta));
		currentSVG += "<path    d = \"M";
		currentSVG += (Math.round(x)).toString() + ",";
		currentSVG += (Math.round(y)).toString() + " C";
		currentSVG += cpx1.toString() + "," + cpy1.toString() + " ";
		
//<path  d="M100,200 C150,150 200,150 250,200" />
	}
	if(localCommand == 0367){
		x2 = Math.round(x);
		y2 = Math.round(y);
		cpx2 = Math.round(x + side*Math.cos(theta));
		cpy2 = Math.round(y + side*Math.sin(theta));
		ctx.bezierCurveTo(cpx1,cpy1,cpx2,cpy2,x2,y2);
		ctx.stroke();
		currentSVG += cpx2.toString() + "," + cpy2.toString() + " ";
		currentSVG += x2.toString() + "," + y2.toString() + "\" />";		
	}


}

function localRoot(localCommand){//010 octal  = 8 decimal = delete as per ASCII spec
//	localCommand = parseInt(localCommand,8);

	if(localCommand == 010){
		currentGlyphArray = currentGlyph.split(",");
		
		firstHalf = "";
		secondHalf = "";	
		for(var index = 0;index < cursorPosition - 1;index++){
			firstHalf += currentGlyphArray[index] + ",";
		}
		for(var index = cursorPosition;index < currentGlyphArray.length;index++){
			secondHalf += currentGlyphArray[index] + ",";
		}				
		currentGlyph = firstHalf + secondHalf;
		if(cursorPosition > 0){
			cursorPosition--;
		}
		currentGlyph = commaCleaner(currentGlyph);

		redraw();
	}

	if(localCommand == 0020){//cursor forward
		cursorPosition--;
		if(cursorPosition < 0){
			cursorPosition = currentGlyphArray.length;			
		}

		redraw();
	}
	if(localCommand == 0021){//cursor back
		cursorPosition++;
		if(cursorPosition > currentGlyphArray.length ){
			cursorPosition = 0;
		}
		redraw();
	}	
	if(localCommand == 0022){//move to previous glyph in table
		currentGlyph = document.getElementById("glyphBytecode").value;
		currentGlyph = commaCleaner(currentGlyph);
		currentTable[currentAddress] = currentGlyph;
		currentAddress--;
		currentGlyph = currentTable[currentAddress];
		currentGlyphArray = currentGlyph.split(",");
		cursorPosition = currentGlyphArray.length;
		redraw();
	}
	if(localCommand == 0023){//move to next glyph in table
		currentGlyph = document.getElementById("glyphBytecode").value;
		currentGlyph = commaCleaner(currentGlyph);
		currentTable[currentAddress] = currentGlyph;
		currentAddress++;
		currentGlyph = currentTable[currentAddress];
		currentGlyphArray = currentGlyph.split(",");
		cursorPosition = currentGlyphArray.length;
		redraw();

	}	
	if(localCommand == 0024){//from action to symbol
		if(currentAddress < 01000 && currentAddress > 0){
			currentAddress += 01000;
			currentGlyph = currentTable[currentAddress];

		}
		currentGlyphArray = currentGlyph.split(",");
		cursorPosition = currentGlyphArray.length;
		redraw();

	}	
	if(localCommand == 0025){//from symbol to action
		if(currentAddress > 01000 && currentAddress < 02000){
			currentAddress -= 01000;
			currentGlyph = currentTable[currentAddress];
		}
		currentGlyphArray = currentGlyph.split(",");
		cursorPosition = currentGlyphArray.length;
		redraw();
	}
	
	if(localCommand == 0026){//import full geometron hypercube
		var localString = document.getElementById("mainTextArea").value;
		var inputStack = localString.split("\n");
		for(var index = 0;index < inputStack.length;index++){
			var stackLine = inputStack[index].split(":");
			var localAddress = parseInt(stackLine[0],8);
			var localGlyph = stackLine[1];
			currentTable[localAddress] = localGlyph;
		}
		currentGlyph = currentTable[currentAddress];
		currentGlyphArray = currentGlyph.split(",");
		cursorPosition = currentGlyphArray.length;
		redraw();

	}
	if(localCommand == 0027){//export full geometron hypercube
		var localString = "";
		for(var index = 0;index < currentTable.length;index++){
			localString += "0" + index.toString(8) + ":" + currentTable[index] + "\n";
		}
		document.getElementById("mainTextArea").value = localString;
	}
	if(localCommand == 030){
		if(document.getElementById("glyphTableEditor").style.display != "none"){
			document.getElementById("glyphTableEditor").style.display = "none";
		}else{
			document.getElementById("glyphTableEditor").style.display = "block";
		}
	}
}

function convertDeg2WM(latlonString){
	WMlat = 38.8894427;
	WMlon = -77.035224;

	var latlonArray = latlonString.split(",");
	lat = parseFloat(latlonArray[0]);
	lon = parseFloat(latlonArray[1]);
	deltaLat = lat - WMlat;
	deltaLon = lon - WMlon;
	deltaLonCorrected = deltaLon*Math.cos(WMlat*Math.PI/180);
	deg2WM = 60*1.15*5280/555;
	
	X = deg2WM*deltaLonCorrected;
	Y = deg2WM*deltaLat;	
	X = Math.round(10*X)/10;
	Y = Math.round(10*Y)/10;
	return(X.toString() + "," + Y.toString());
}
function convertDeg2WMwhole(latlonString){
	WMlat = 38.8894427;
	WMlon = -77.035224;

	var latlonArray = latlonString.split(",");
	lat = parseFloat(latlonArray[0]);
	lon = parseFloat(latlonArray[1]);
	deltaLat = lat - WMlat;
	deltaLon = lon - WMlon;
	deltaLonCorrected = deltaLon*Math.cos(WMlat*Math.PI/180);
	deg2WM = 60*1.15*5280/555;
	
	X = deg2WM*deltaLonCorrected;
	Y = deg2WM*deltaLat;	
	X = Math.round(X);
	Y = Math.round(Y);
	return(X.toString() + "," + Y.toString());
}


var foo = document.getElementById("stationLatlons").text;
var bar = foo.split("*");
var stationLatlons = bar[1];
var stationLatlonsArray = stationLatlons.split("\n");
var tempString = "";
for(var index = 0;index < stationLatlonsArray.length;index++){
	var tempArray  = stationLatlonsArray[index].split(":");
	//console.log(tempArray[0] + ":" + convertDeg2WMwhole(tempArray[1]));
	tempString += tempArray[0] + ":" + convertDeg2WMwhole(tempArray[1]) + "\n";
}
//console.log(tempString);


</script>
<div class = "atom" style = "width:600px;overflow:scroll">
<h2>Urban Map Coordinates</h2>
A map intended for pedestrians in an urban area should have 2 significant digits in the coordinates, not more not less.  The origin of the map should be at the most recognizable landmark.  The unit of measurement should thus be roughly 1/100 the size of the map.  For a 10 mile map that's about 1/10th of a mile, or about 500 feet.  Ideally that unit should be also based on a landmark chosen for maximum recognizability.  
<p>
To contrast this goal with the standard coordinates used by software people, decimal latitude and longitude coordinates typically have 10 significant digits or more. The first three of these essentially just tell you what city you're in, which you already know if you're using an urban map, and all the digits after you get to a few meters simply carry no information due to lack of precision in gps and practical mapping.  
<p>
For Washington, DC, the obvious logical choice for a center is the location of the Washington Monument, and for a unit is the height of the same monument.  According to google maps the location is (38.8894427,-77.035224).  The height is 555 feet.  Thus the first goal in building a better map is to build a web calculator that converts decimal degrees into local units as I've defined them.  For other cities you would repeat this process.  E.g. for Paris one would definitely center on the Eiffel Tower, and setting the unit to be the height gives you about twice the radius as you get for the Washington Monument.  For London you might center on Big Ben, which is too short to get a good unit, but then use the Westminster Bridge as the unit, making it obvious for someone on the ground how to measure in their mind.  
<p>
We start by taking a difference between the zero and arbitrary coordinates in decimal degrees.
</div>
<div class = "atom" style = "width:600px;overflow:scroll">
<h2>Decimal Degree Difference Calculator</h2>
<h4>Monument Coordinates(Washington Monument is Default):</h4>
Latitude:<input value  = "38.8894427"></input>
Longitude:<input value  = "-77.035224"></input>
<h4>Location Coordinates(default set to Jefferson Memorial):</h4>
Latitude:<input id = "latInput" value  = "38.8813729" onchange = "updateInput1();"></input>
Longitude:<input id = "lonInput" value  = "-77.0365928" onchange = "updateInput1()";></input>

<h4>Decimal Degree Differences:</h4>
Latitude Difference:<input id = "deltaLat"></input>
Longitude Difference:<input id = "deltaLon"></input>
<p>
To account for how longitude changes as we move up from the equator the difference in angle in longitude must be multiplied by the cosine of the latitude to get distance units that are consistent with latitude.   
<p>
Longitude Difference corrected for non-equatorial latitude:<input id = "deltaLonCorrected"></input>
<p>
With this correction we can convert differences to nautical miles by dividing by 60 since 1 nautical mile is 1 arc minute of latitude or 1 60th of a degree.  1 nautical mile is 1.15 statutory miles.  1 statutory mile is 5280 feet.  1 WM(Washington Monument) unit is 555 feet.  So the total conversion is 

$$\Delta\theta[^{\circ}]\left(\frac{60 \textrm{ NM}}{1 ^{\circ}}\right)\left(\frac{1.15 \textrm{ miles}}{1 \textrm{ NM}}\right)\left(\frac{5280 \textrm{ feet}}{1 \textrm{ mile}}\right)\left(\frac{1 \textrm{ WM}}{555 \textrm{ feet}}\right)$$

from which the factor to multiply by is 

$$\frac{60 \times 1.15 \times 5280}{555} = 656$$

This gives the coordinates in WM from the WM as 
<p>

X = <input id = "xInput1"></input>
Y = <input id = "yInput1"></input>

<script>

	WMlat = 38.8894427;
	WMlon = -77.035224;

updateInput1();
		lat = parseFloat(document.getElementById("latInput").value);
		lon = parseFloat(document.getElementById("lonInput").value);
		deltaLat = lat - WMlat;
		deltaLon = lon - WMlon;
		document.getElementById("deltaLat").value = deltaLat;
		document.getElementById("deltaLon").value = deltaLon;
		deltaLonCorrected = deltaLon*Math.cos(WMlat*Math.PI/180);
		document.getElementById("deltaLonCorrected").value = deltaLonCorrected;
		deg2WM = 60*1.15*5280/555;

		X = deg2WM*deltaLonCorrected;
		Y = deg2WM*deltaLat;
	
		document.getElementById("xInput1").value = Math.round(X);
		document.getElementById("yInput1").value = Math.round(Y);
function updateInput1(){
		lat = parseFloat(document.getElementById("latInput").value);
		lon = parseFloat(document.getElementById("lonInput").value);
		deltaLat = lat - WMlat;
		deltaLon = lon - WMlon;
		document.getElementById("deltaLat").value = deltaLat;
		document.getElementById("deltaLon").value = deltaLon;
		deltaLonCorrected = deltaLon*Math.cos(WMlat*Math.PI/180);
		document.getElementById("deltaLonCorrected").value = deltaLonCorrected;
		deg2WM = 60*1.15*5280/555;

		X = deg2WM*deltaLonCorrected;
		Y = deg2WM*deltaLat;
	
		X = Math.round(10*X)/10;
		Y = Math.round(10*Y)/10;

		document.getElementById("xInput1").value = X;
		document.getElementById("yInput1").value = Y;

}

</script>
</div>

<div class = "atom" style = "width:600px;overflow:scroll">
<h2>Condensed Coordinate Converter</h2>
Here we use the output of google maps coordinates in the form "38.8808165,-77.102156", i.e. with latitude first, even though we're going to have that be the "y" coordinate which is second in the WM units.  In this version you must have just the two numbers separated by a comma, and remove the rest of the url including the z coordinate and the "@".
<p>
Lat/Lon Coordinates:<input id = "latLonInput2" value = "38.8886298,-77.004643" onchange = "updateInput2();"></input>
<p>
WM Coordinates(x,y):<input id = "xyInput2"></input>
<p>
Here I'm rounding to the nearest 1/10th of a Washington Monument, or about 50 feet.  The default grid will be either 1 WM or 0.1 WM depending on the context, so it's good to have the option by having one number after the decimal place.  Any more than one is pointless given the uncertainties of foot travel and gps, so this should be the highest precision used anywhere on this map unless it's a fractally connected map at a smaller scale, such as one for just the Mall or just DuPont circle.  
<script>
updateInput2();
function updateInput2(){
	WMlat = 38.8894427;
	WMlon = -77.035224;
	var latlon = document.getElementById("latLonInput2").value;
	var latlonArray = latlon.split(",");
	lat = parseFloat(latlonArray[0]);
	lon = parseFloat(latlonArray[1]);
	deltaLat = lat - WMlat;
	deltaLon = lon - WMlon;
	deltaLonCorrected = deltaLon*Math.cos(WMlat*Math.PI/180);
	deg2WM = 60*1.15*5280/555;

	X = deg2WM*deltaLonCorrected;
	Y = deg2WM*deltaLat;
	
	X = Math.round(10*X)/10;
	Y = Math.round(10*Y)/10;
	document.getElementById("xyInput2").value = X.toString() + "," + Y.toString();
}

</script>
</div>
<div class = "atom" style = "width:600px;overflow:scroll">
<pre id = "allstopsWM">
Metro Center:4,6
Farragut North:-2,9
Dupont Circle:-4,13
Woodley Park-Zoo/Adams Morgan:-9,23
Cleveland Park:-12,30
Van Ness-UDC:-14,36
Tenleytown-AU:-23,38
Friendship Heights:-26,47
Bethesda:-30,62
Medical Center:-32,73
Grosvenor-Strathmore:-35,92
White Flint:-40,104
Twinbrook:-44,114
Rockville:-57,128
Shady Grove:-66,151
Gallery Pl-Chinatown:7,6
Judiciary Square:9,4
Union Station:15,5
Rhode Island Ave-Brentwood:20,21
Brookland-CUA:21,29
Fort Totten:17,41
Takoma:9,57
Silver Spring:2,69
Forest Glen:-4,83
Wheaton:-8,98
Glenmont:-9,113
NoMa-Gallaudet U:16,12
Metro Center:4,6
McPherson Square:1,8
Farragut West:-2,8
Foggy Bottom-GWU:-8,7
Rosslyn:-19,5
Arlington Cemetery:-14,-3
Pentagon:-10,-13
Pentagon City:-12,-17
Crystal City:-8,-21
Ronald Reagan Washington National Airport:-4,-24
Braddock Road:-9,-50
King St-Old Town:-13,-54
Eisenhower Avenue:-18,-59
Huntington:-20,-63
Federal Triangle:4,3
Smithsonian:4,-1
L'Enfant Plaza:7,-3
Federal Center SW:10,-3
Capitol South:15,-3
Eastern Market:20,-3
Potomac Ave:25,-6
Stadium-Armory:30,-2
Minnesota Ave:45,6
Deanwood:51,12
Cheverly:61,18
Landover:74,30
New Carrollton:83,38
Mt Vernon Sq 7th St-Convention Center:7,11
Shaw-Howard U:7,15
U Street/African-Amer Civil War Memorial/Cardozo:3,18
Columbia Heights:1,26
Georgia Ave-Petworth:5,31
Fort Totten:17,41
West Hyattsville:33,43
Prince George's Plaza:40,50
College Park-U of Md:55,58
Greenbelt:63,80
Gallery Pl-Chinatown:7,6
Archives-Navy Memorial-Penn Quarter:7,3
L'Enfant Plaza:7,-3
Waterfront:9,-9
Navy Yard-Ballpark:15,-8
Anacostia:20,-18
Congress Heights:24,-29
Southern Avenue:31,-32
Naylor Road:40,-25
Suitland:53,-30
Branch Ave:63,-41
Benning Road:50,1
Capitol Heights:62,0
Addison Road-Seat Pleasant:72,-2
Morgan Boulevard:85,1
Largo Town Center:97,7
Van Dorn Street:-48,-59
Franconia-Springfield:-68,-81
Court House:-25,1
Clarendon:-32,-2
Virginia Square-GMU:-35,-4
Ballston-MU:-39,-5
East Falls Church:-62,-2
West Falls Church-VT/UVA:-79,7
Dunn Loring-Merrifield:-99,-4
Vienna/Fairfax-GMU:-121,-8
McLean:-89,23
Tysons Corner:-96,20
Greensboro:-102,20
Spring Hill:-106,26
Wiehle-Reston East:-156,38</pre>
</div>

<div class = "atom" style = "width:600px;overflow:scroll">
<h2>First Map Instance: Central/lower Yellow Line</h2>
<pre>
Gallery Pl-Chinatown:7,6
Archives-Navy Memorial-Penn Quarter:7,3
L'Enfant Plaza:7,-3
Pentagon:-10,-13
Pentagon City:-12,-17
Crystal City:-8,-21
Ronald Reagan Washington National Airport:-4,-24
</pre>
It looks like the vertical range should be at least 30 WM's so I'll make it 40.  20 is more than enough in the x direction so I'll make it 30.  So the canvas will be 30 WM's wide and 40 WM's high.  If we want it to be 400 pixels high that's 10 pixels per WM unit.  And the zero point should be centered on the x and closer to the top than the middle on the y, say 100 from the top.  Or, in javascript/Geometron:
<pre>
unit = 10;
x0 = 150;
y0 = 100;
doTheThing(0300);
</pre>
With a canvas that is 300X400 in size.  
</div>

<div class = "atom" style = "width:600px;overflow:scroll">
<h2>First Full Map</h2>
<canvas width = "400" height = "400" id = "yellowMap1" style = "border:solid"></canvas>
<script>

	unit = 10;
	x0 = 150;
	y0 = 150;
	ctx = document.getElementById("yellowMap1").getContext("2d");
	doTheThing(0300);
	ctx.fillStyle = "#808080"
	ctx.fillRect(0,0,400,400);

	currentGlyph = "0300,0210,0300,0211,0300,0212,0300,0213,0300,0214,0300,0215,0300,0216"
	currentGlyph = currentTable[0400];
	drawGlyph(currentGlyph);
</script>
</div>

<div class = "atom" style = "width:600px;overflow:scroll">
<h2>Map 2: The Core</h2>

This is a construction of a map of only stations less than 30 WM units from the WM.  There are 37 of these.  I also am now parsing with just a colon and no commas for simplicity in the code.  They are as follows:
<p>
<pre id = "coreStops">Metro Center:4:6
Farragut North:-2:9
Dupont Circle:-4:13
Woodley Park-Zoo/Adams Morgan:-9:23
Gallery Pl-Chinatown:7:6
Judiciary Square:9:4
Union Station:15:5
Rhode Island Ave-Brentwood:20:21
NoMa-Gallaudet U:16:12
Metro Center:4:6
McPherson Square:1:8
Farragut West:-2:8
Foggy Bottom-GWU:-8:7
Rosslyn:-19:5
Arlington Cemetery:-14:-3
Pentagon:-10:-13
Pentagon City:-12:-17
Crystal City:-8:-21
Ronald Reagan Washington National Airport:-4:-24
Federal Triangle:4:3
Smithsonian:4:-1
L'Enfant Plaza:7:-3
Federal Center SW:10:-3
Capitol South:15:-3
Eastern Market:20:-3
Potomac Ave:25:-6
Mt Vernon Sq 7th St-Convention Center:7:11
Shaw-Howard U:7:15
U Street/African-Amer Civil War Memorial/Cardozo:3:18
Columbia Heights:1:26
Gallery Pl-Chinatown:7:6
Archives-Navy Memorial-Penn Quarter:7:3
L'Enfant Plaza:7:-3
Waterfront:9:-9
Navy Yard-Ballpark:15:-8
Anacostia:20:-18
Court House:-25:1</pre>
<script>
	var foo = document.getElementById("allstopsWM").innerHTML;
	var bar = foo.split("\n");
	
	var counter = 0;
	var coreString = "";
	for(var index = 0;index < bar.length;index++){
		var zeep = bar[index].split(":");
		var stationName = zeep[0];
		var localXYarray = zeep[1].split(",");
		var localX = localXYarray[0];
		var localY = localXYarray[1];
		var localR = Math.round(Math.sqrt(localX*localX + localY*localY));
		if(localR < 30){
		    //console.log(stationName + ":" + localX + ":" + localY);	
		    coreString += stationName + ":" + localX + ":" + localY + "\n";
		    counter++;
		}
	}
	//console.log(coreString);
</script>
Now I want to put all the names in the word elements of the Geometron Hypercube, which are the 0600's.  I could add that to the code used to generate the above list but to keep things transparent I'll build that information here in a separate script.  

<script>
	var foo = document.getElementById("coreStops").innerHTML;
	var bar = foo.split("\n");
	var localString = "";
	var coremapStations = "";
	for(var index = 0;index < bar.length;index++){
		var zeep = bar[index].split(":");		
		var localName = zeep[0];
		currentTable[0630 + index] =  string2byteCode(localName);
		var localXint = parseInt(zeep[1]);
		var localYint = parseInt(zeep[2]);
		var localGlyph = "0300,";
		for(var innerIndex = 0;innerIndex < Math.abs(localXint);innerIndex++){
			if(Math.sign(localXint) == 1){
				localGlyph += "0333,";
			}
			if(Math.sign(localXint) == -1){
				localGlyph += "0332,";
			}
		}
		for(var innerIndex = 0;innerIndex < Math.abs(localYint);innerIndex++){
			if(Math.sign(localYint) == 1){
				localGlyph += "0330,";
			}
			if(Math.sign(localYint) == -1){
				localGlyph += "0331,";
			}
		}
		localGlyph += "0205,";
		localGlyph += "0"+(0630 + index).toString(8) + ",0336,0365,"
		
		currentTable[0230 + index] = localGlyph;
		coremapStations += "0"+(0230 + index).toString(8) + ",";
//		console.log("0"+(0230 + index).toString(8)+":" + localGlyph);
		localString += "0"+(0230 + index).toString(8)+":" + localGlyph + "\n";
	}
//	currentTable[0401] = coremapStations;
//	redraw();

</script>
<pre>0230:0300,0333,0333,0333,0333,0330,0330,0330,0330,0330,0330,0205
0231:0300,0332,0332,0330,0330,0330,0330,0330,0330,0330,0330,0330,0205
0232:0300,0332,0332,0332,0332,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0205
0233:0300,0332,0332,0332,0332,0332,0332,0332,0332,0332,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0205
0234:0300,0333,0333,0333,0333,0333,0333,0333,0330,0330,0330,0330,0330,0330,0205
0235:0300,0333,0333,0333,0333,0333,0333,0333,0333,0333,0330,0330,0330,0330,0205
0236:0300,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0330,0330,0330,0330,0330,0205
0237:0300,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0205
0240:0300,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0205
0241:0300,0333,0333,0333,0333,0330,0330,0330,0330,0330,0330,0205
0242:0300,0333,0330,0330,0330,0330,0330,0330,0330,0330,0205
0243:0300,0332,0332,0330,0330,0330,0330,0330,0330,0330,0330,0205
0244:0300,0332,0332,0332,0332,0332,0332,0332,0332,0330,0330,0330,0330,0330,0330,0330,0205
0245:0300,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0330,0330,0330,0330,0330,0205
0246:0300,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0331,0331,0331,0205
0247:0300,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0205
0250:0300,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0205
0251:0300,0332,0332,0332,0332,0332,0332,0332,0332,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0205
0252:0300,0332,0332,0332,0332,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0205
0253:0300,0333,0333,0333,0333,0330,0330,0330,0205
0254:0300,0333,0333,0333,0333,0331,0205
0255:0300,0333,0333,0333,0333,0333,0333,0333,0331,0331,0331,0205
0256:0300,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0331,0331,0331,0205
0257:0300,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0331,0331,0331,0205
0260:0300,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0331,0331,0331,0205
0261:0300,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0331,0331,0331,0331,0331,0331,0205
0262:0300,0333,0333,0333,0333,0333,0333,0333,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0205
0263:0300,0333,0333,0333,0333,0333,0333,0333,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0205
0264:0300,0333,0333,0333,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0205
0265:0300,0333,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0330,0205
0266:0300,0333,0333,0333,0333,0333,0333,0333,0330,0330,0330,0330,0330,0330,0205
0267:0300,0333,0333,0333,0333,0333,0333,0333,0330,0330,0330,0205
0270:0300,0333,0333,0333,0333,0333,0333,0333,0331,0331,0331,0205
0271:0300,0333,0333,0333,0333,0333,0333,0333,0333,0333,0331,0331,0331,0331,0331,0331,0331,0331,0331,0205
0272:0300,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0331,0331,0331,0331,0331,0331,0331,0331,0205
0273:0300,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0333,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0331,0205
0274:0300,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0332,0330,0205</pre>

That is the byte code which can be loaded manually into any Geometron instance, put in the code at the top, or put in some library.  But in this case the code that generated the displayed table here also loaded the codes into the global array currentTable, so it will be available for the next set of operations.  
</div>

<div class = "atom" style = "overflow:scroll">
<h2>Map 2: The Core, Actual map</h2>
<canvas width = "1000" height = "800" id = "map2" style = "border:solid"></canvas>
<script>

	unit = 20;
	x0 = 400;
	y0 = 400;
	ctx = document.getElementById("map2").getContext("2d");
	doTheThing(0300);
	ctx.fillStyle = "#505050"
	//ctx.fillStyle = "black"
	ctx.fillRect(0,0,1000,800);
	currentGlyph = currentTable[0404];
	drawGlyph(currentGlyph);

	unit = 20;
	x0 = 400;
	y0 = 400;
	ctx = document.getElementById("map3").getContext("2d");
	doTheThing(0300);
	ctx.fillStyle = "#202020"
	//ctx.fillStyle = "black"
	ctx.fillRect(0,0,1600,800);
	currentGlyph = currentTable[0404];
	drawGlyph(currentGlyph);
	doTheThing(0300);
	drawGlyph("0420,0300,0421,0300,0422,0300,0423,0300,0424,0300,0425,0300,0426,0300,0427,0300,0430,0300,0431,0432,0433,0434,0435,0436,0437,0440,0441");

</script>
</div>


<div class = "atom" style = "width:600px;overflow:scroll">
	<h2>Locator</h2>
	Locate machine using geolocation API.

	<p>
Lat/Lon Coordinates:<input id = "latLonInput2" value = "38.8886298,-77.004643" onchange = "updateInput2();"></input>

<p>
WM Coordinates(x,y):<input id = "xyInput3"></input>
<p>
<button onclick="getLocation()">GET FOUND</button>

<p id="demo"></p>

<script>
var x = document.getElementById("demo");

function getLocation() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition, showError);
    } else { 
        x.innerHTML = "Geolocation is not supported by this browser.";
    }
}
function showError(error) {
    switch(error.code) {
        case error.PERMISSION_DENIED:
            x.innerHTML = "User denied the request for Geolocation."
            break;
        case error.POSITION_UNAVAILABLE:
            x.innerHTML = "Location information is unavailable."
            break;
        case error.TIMEOUT:
            x.innerHTML = "The request to get user location timed out."
            break;
        case error.UNKNOWN_ERROR:
            x.innerHTML = "An unknown error occurred."
            break;
    }
}

function showPosition(position) {
    x.innerHTML = "Latitude: " + position.coords.latitude + 
    "<br>Longitude: " + position.coords.longitude;
 	WMlat = 38.8894427;
	WMlon = -77.035224;
    lat = position.coords.latitude;
    lon = position.coords.longitude;
    deltaLat = lat - WMlat;
	deltaLon = lon - WMlon;
	deltaLonCorrected = deltaLon*Math.cos(WMlat*Math.PI/180);
	deg2WM = 60*1.15*5280/555;

	X = deg2WM*deltaLonCorrected;
	Y = deg2WM*deltaLat;
	
	X = Math.round(10*X)/10;
	Y = Math.round(10*Y)/10;
	document.getElementById("xyInput3").value = X.toString() + "," + Y.toString();

}

</script>
</div>



<style>

html {
	height: 100%;
	background: black;
}

.atom{
	width: auto;
	height: auto;
	border-style: solid;
	border-width: 6px;
	border-color: purple;
	border-radius: 25px;
	padding: 10px 10px 10px 10px;
	margin: 10px 10px 10px 10px;
	background: white;	
	font-size: 14px;
	font-family: "Century Schoolbook";
	text-align: left;
	float:left;
}
#spellDiv{
	width: 600px;
	height: auto;
	border-style: solid;
	border-width: 6px;
	border-color: purple;
	border-radius: 25px;
	padding: 15px 15px 15px 15px;
	margin: 10px 10px 10px 10px;
	background: white;	
	float:left;
	overflow: scroll;
}

#plotCanvas{
	border-style: solid;
	border-width: 1px;
	border-color: black;
	border-radius: 5px;

}
.glyphButtons{
    border-style: solid;
    border-width: 0px;
    border-color: black;
    background: white;	
}
.glyphButtons:hover{
    background: gray;	

}
.glyphButtons:active{
    background: yellow;	
}
#glyphTableEditor{
	background: gray;	
}

</style>
</center>
</body>
</html>