<!DOCTYPE html>
<html>
<body>

<canvas id="myCanvas" width="600" height="400"
style="border:1px solid #c3c3c3;">
Your browser does not support the canvas element.
</canvas>

<script language="javascript" type="text/javascript" src="libraries/geometronJSlibrary.js"></script>
<script>
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");

setGeometronGlobals();
loadFont();
loadCommandGlyphs();
loadShapes();
loadManuscript();

currentGlyphTable = manuscriptActions;
var tempStringArray = currentGlyphTable[currentTableIndex].split(':');
currentGlyphString = tempStringArray[1];
doGlyphString(currentGlyphString);
doGlyphString(cursorString);

</script>

<!--<input type = "text" onchange = "updateShapeTableDisplay();" id = "shapeInput"><--022x here</input>-->

<!--<input type = "text" onchange = "updateFontTableDisplay();" id = "fontInput"><--font here</input>-->
<p>
<button type="button" onclick = "rootMagic(011);updateGlyph();updateText();">PREV GLYPH</button>
<button type="button" onclick = "rootMagic(015);updateGlyph();updateText();">NEXT GLYPH</button>
table select:
<select>
  <option value="manuscriptActions">manuscriptActions</option>
  <option value="font">font</option>
  <option value="shapeActions">shapeActions</option>
  <option value="shapeSymbols">shapeSymbols</option>
</select>
<p>
<input type = "text" value  = "0" onkeyup = "updateText()" id = "inputGlyph"><--Type text here</input>
<p>
<script>
	document.getElementById("inputGlyph").value = currentGlyphString;
</script>

<canvas id="spellingCanvas" width="520" height="80"
style="border:1px solid #c3c3c3;">
Your browser does not support the canvas element.
</canvas>

<p>
<img src="geometronfiles/images/masterKeyboard.png" />

<p>

<!--shape table:
<p>
<textarea id = "shapeTableDisplay" rows="64" cols="100">
</textarea>
<p>
font table:

<p>
<textarea id = "fontTableDisplay" rows="96" cols="100">

</textarea>
-->

<script>

function updateGlyph(){
	document.getElementById("inputGlyph").value = currentGlyphString;
}

function updateText(){

	currentGlyphString = document.getElementById("inputGlyph").value;
	
	currentGlyphTable[currentTableIndex] = currentPageAddress + ":" + currentGlyphString;
	
	var img = new Image();   // Create new img element
    
	ctx.clearRect(0, 0, canvas.width, canvas.height);
	if(imageOn){
	   img.src = 'geometronfiles/images/thePentagon.png'; // Set source path
	   ctx.drawImage(img,0,0);
	}
	doGlyphString(currentGlyphString);
	doGlyphString(cursorString);
	var canvas2 = document.getElementById("spellingCanvas");
	ctx = canvas2.getContext("2d");
	ctx.clearRect(0, 0, canvas.width, canvas.height);
	spellGlyph(currentGlyphString);
	ctx = canvas.getContext("2d");
}


/*
  function updateShapeTableDisplay(){

	var currentShapeGlyph = document.getElementById("shapeInput").value;
	var tempArray = currentShapeGlyph.split(':');
	var foo = tempArray[0];//address of shape 02xx
	var bar = foo.toString(8);

	shapeActions[parseInt(tempArray[0],8) - 0200] = tempArray[0] + ":" + tempArray[1];
	
	document.getElementById("shapeTableDisplay").innerHTML =  "";
	for(var zeep = 0;zeep<shapeActions.length;zeep++){
		document.getElementById("shapeTableDisplay").innerHTML += shapeActions[zeep];
		document.getElementById("shapeTableDisplay").innerHTML += "\n"		
	}
}

function updateFontTableDisplay(){	
	//source of hebrew letters geometric font in public domain:https://commons.wikimedia.org/wiki/User:Razorbliss/gallery 

	var currentLetterGlyph = document.getElementById("fontInput").value;
	var tempArray = currentLetterGlyph.split(':');
	var foo = tempArray[0].charCodeAt(0);
	var bar = foo.toString(8);
	font[tempArray[0].charCodeAt(0) - 32] = "0" + bar + ":" + tempArray[1];
	
	document.getElementById("fontTableDisplay").innerHTML =  "";
	for(var zeep = 0;zeep<font.length;zeep++){
	document.getElementById("fontTableDisplay").innerHTML += String.fromCharCode(32 + zeep);
	document.getElementById("fontTableDisplay").innerHTML += ':';
		document.getElementById("fontTableDisplay").innerHTML += font[zeep];
		document.getElementById("fontTableDisplay").innerHTML += "\n"
	}
}
*/

</script>
</body>
</html>