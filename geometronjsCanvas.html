<!DOCTYPE html>
<html>
<body>

<canvas id="myCanvas" width="600" height="600"
style="border:1px solid #c3c3c3;">
Your browser does not support the canvas element.
</canvas>

<script language="javascript" type="text/javascript" src="libraries/geometronJSlibrary.js"></script>
<script>
var canvas = document.getElementById("myCanvas");
var ctx = canvas.getContext("2d");

setGeometronGlobals();
loadFont();
loadCommandGlyphs();
loadShapes();

//doGlyphString(currentGlyphString);

//doGlyphString("0ds--~ABCDEFGHIJKLMNOPQRSTUVWXYZ");
//doGlyphString("0ds-s-~abcdefghijklmnopqrstuvwxyz");
//doGlyphString("0cagcagcagcag");
//doGlyphString("0sfsfsxzg3ggazxggazx");
//doGlyphString("0ff%%%%%-%%%%%-%%%%%-%%%%%-%%%%%-%%%%%");
//doGlyphString("0sfsfsxzg3ggazxggazx");
//doGlyphString("hcgcgch");

</script>

<input type = "text" onchange = "updateShapeTableDisplay();" id = "shapeInput"><--022x here</input>
<input type = "text" onchange = "updateFontTableDisplay();" id = "fontInput"><--font here</input>

<p>
<input type = "text" onkeyup = "updateText()" id = "inputGlyph"><--Type text here</input>
<!--<input type = "checkbox" id = "imageon">Image on/off</input>-->
<p>
<img src="geometronfiles/images/masterKeyboard.png" />
<!--
<button onclick="redrawCurrentGlyphString(keyRow2[0]);"><img src="geometronfiles/images/0330.png" /></button>
-->
<p>

shape table:
<p>
<textarea id = "shapeTableDisplay" rows="64" cols="100">
</textarea>
<p>
font table:

<p>
<textarea id = "fontTableDisplay" rows="96" cols="100">

</textarea>


<script>

function updateText(){
	currentGlyphString = document.getElementById("inputGlyph").value;
	
	var img = new Image();   // Create new img element
    
	ctx.clearRect(0, 0, canvas.width, canvas.height);
	if(imageOn){
	   img.src = 'geometronfiles/images/thePentagon.png'; // Set source path
	   ctx.drawImage(img,0,0);
	}
	doGlyphString(currentGlyphString);
	doGlyphString(cursorString);
	spellGlyph(currentGlyphString);
}

function updateShapeTableDisplay(){

	var currentShapeGlyph = document.getElementById("shapeInput").value;
	var tempArray = currentShapeGlyph.split(':');
	var foo = tempArray[0];//address of shape 02xx
	var bar = foo.toString(8);

	shapeActions[parseInt(tempArray[0],8) - 0200] = tempArray[0] + ":" + tempArray[1];
	
	document.getElementById("shapeTableDisplay").innerHTML =  "";
	for(var zeep = 0;zeep<shapeActions.length;zeep++){
		document.getElementById("shapeTableDisplay").innerHTML += shapeActions[zeep];
		document.getElementById("shapeTableDisplay").innerHTML += "\n"		
	}
}

function updateFontTableDisplay(){	
	//source of hebrew letters geometric font in public domain:https://commons.wikimedia.org/wiki/User:Razorbliss/gallery 

	var currentLetterGlyph = document.getElementById("fontInput").value;
	var tempArray = currentLetterGlyph.split(':');
	var foo = tempArray[0].charCodeAt(0);
	var bar = foo.toString(8);
	font[tempArray[0].charCodeAt(0) - 32] = "0" + bar + ":" + tempArray[1];
	
	document.getElementById("fontTableDisplay").innerHTML =  "";
	for(var zeep = 0;zeep<font.length;zeep++){
	document.getElementById("fontTableDisplay").innerHTML += String.fromCharCode(32 + zeep);
	document.getElementById("fontTableDisplay").innerHTML += ':';
		document.getElementById("fontTableDisplay").innerHTML += font[zeep];
		document.getElementById("fontTableDisplay").innerHTML += "\n"
	}
}


</script>
</body>
</html>